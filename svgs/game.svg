<svg
  id="game"
  class="gameStateDefault"
  x="0"
  y="0"
  viewBox="-960 -840 1920 1080" 
  preserveAspectRatio="xMidYMid slice"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink" >

  <!-- Styles -->
	<link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Caveat|Roboto+Slab" />
  <link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="../styles/common.css" />
  <link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="../styles/game.css" />

  <!-- Debug background -->
  <!-- <rect x="-960" y="-540" width="100%" height="100%" style="fill: rgb(220,220,220);" /> -->

  <!-- Grid, inspired by https://www.jointjs.com/blog/isometric-diagrams, size must be multiply of (1, 0.8602) -->
  <!-- <g id="grid" class="ignoreCursor" transform="rotate(30) skewX(-30) scale(100, 86.02)">
    <circle id="gridDebug" class="ignoreCursor" style="fill: rgb(0,255,255);" cx="1000" cy="1000" r="1" />
  </g> -->

  <!-- Debug coordinates cross -->
  <!-- <g stroke="white" stroke-opacity="0.5" stroke-dasharray="8">
    <line x1="-10000" x2="10000" y1="0" y2="0" />
    <line x1="0" x2="0" y1="-10000" y2="10000" />
  </g> -->

  <!-- Texts -->

  <!-- Intro -->
  <!-- <svg id="intro" x="-400" y="-700" width="800" height="400">
    <text text-anchor="middle">
      <tspan x="50%" dy="1.5em" style="font-size: 200%; font-weight: bold;">Vera and Karel's</tspan>
      <tspan x="50%" dy="1.2em" style="font-size: 400%; font-weight: 700;">[BOY/GIRL]</tspan>
      <tspan x="50%" dy="1.7em" style="font-size: 150%;">was born on June ??th 2024</tspan>
      <tspan x="50%" dy="3.2em">To find out their name,</tspan>
      <tspan x="50%" dy="1.5em">please play a little game we designed.</tspan>
    </text>
  </svg> -->

  <!-- Outro -->
  <svg id="outro" x="-400" y="-875" width="800" height="400" >
    <text text-anchor="middle">
      <tspan x="50%" dy="1.5em" style="font-family: Caveat, serif;">Welcome to this world,</tspan>
      <tspan x="60%" dy="1300px" style="font-size: 150%; font-weight: 700; letter-spacing: 0.2em;">NAME</tspan>
    </text>
  </svg>

  <!-- Tutorial -->
  <g class="textTutorial unlock hidden" minTile="1" maxTile="1">

    <!-- Drag view -->
    <svg id="tutorialView" x="-200" y="-300" width="400" height="100">
      <text text-anchor="middle" class="animateTutorialView">
        <tspan x="50%" dy="3.2em">Drag to move the view üëá</tspan>
      </text>
    </svg>

    <!-- Move tile -->
    <svg id="tutorialTile" x="40" y="360" width="400" height="100">
      <text text-anchor="middle">
        <tspan x="50%" dy="3.2em">üñê Grab the tile to move it to its place</tspan>
      </text>
    </svg>

    <!-- Tile indicator -->
    <g id="grid" class="ignoreCursor" transform="translate(121.24355652982142 70) rotate(30) skewX(-30) scale(140, 120.428)">
      <rect x="0" y="0" width="1" height="1" class="animateTutorialTarget" />
    </g>
  </g>

  <!-- Tiles -->
  <g id="tiles">

    <!-- Tier 0 -->
    <svg id="tile01" tileId="1" class="tile" width="256" height="256">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile01.png" />
        <text id="tileNumber" x="50%" y="50%">1</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile02" tileId="2" class="tileHidden" width="256" height="256">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile02.png" />
        <text id="tileNumber" x="50%" y="50%">2</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <!-- Tier 1 -->
    <svg id="tile03" tileId="3" class="tileHidden" width="256" height="256" tileTier="1">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile03.png" />
        <text id="tileNumber" x="50%" y="50%">3</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile04" tileId="4" class="tileHidden" width="256" height="256" tileTier="1">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile04.png" />
        <text id="tileNumber" x="50%" y="50%">4</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile05" tileId="5" class="tileHidden" width="256" height="256" tileTier="1">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile05.png" />
        <text id="tileNumber" x="50%" y="50%">5</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <!-- Tier 2 -->
    <svg id="tile06" tileId="6" class="tileHidden" width="256" height="256" tileTier="2">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile06.png" />
        <text id="tileNumber" x="50%" y="50%">6</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile07" tileId="7" class="tileHidden" width="256" height="256" tileTier="2">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile07.png" />
        <text id="tileNumber" x="50%" y="50%">7</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile08" tileId="8" class="tileHidden" width="256" height="256" tileTier="2">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile08.png" />
        <text id="tileNumber" x="50%" y="50%">8</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile09" tileId="9" class="tileHidden" width="256" height="256" tileTier="2">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile09.png" />
        <text id="tileNumber" x="50%" y="50%">9</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <!-- Tier 3 -->
    <svg id="tile10" tileId="10" class="tileHidden" width="256" height="256" tileTier="3">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile10.png" />
        <text id="tileNumber" x="50%" y="50%">10</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile11" tileId="11" class="tileHidden" width="256" height="256" tileTier="3">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile11.png" />
        <text id="tileNumber" x="50%" y="50%">11</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile12" tileId="12" class="tileHidden" width="256" height="256" tileTier="3">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile12.png" />
        <text id="tileNumber" x="50%" y="50%">12</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile13" tileId="13" class="tileHidden" width="256" height="256" tileTier="3">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile13.png" />
        <text id="tileNumber" x="50%" y="50%">13</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile14" tileId="14" class="tileHidden" width="256" height="256" tileTier="3">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile14.png" />
        <text id="tileNumber" x="50%" y="50%">14</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <!-- Tier 4 -->
    <svg id="tile15" tileId="15" class="tileHidden" width="256" height="256" tileTier="4">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile15.png" />
        <text id="tileNumber" x="50%" y="50%">15</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile16" tileId="16" class="tileHidden" width="256" height="256" tileTier="4">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile16.png" />
        <text id="tileNumber" x="50%" y="50%">16</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile17" tileId="17" class="tileHidden" width="256" height="256" tileTier="4">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile17.png" />
        <text id="tileNumber" x="50%" y="50%">17</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile18" tileId="18" class="tileHidden" width="256" height="256" tileTier="4">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile18.png" />
        <text id="tileNumber" x="50%" y="50%">18</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile19" tileId="19" class="tileHidden" width="256" height="256" tileTier="4">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile19.png" />
        <text id="tileNumber" x="50%" y="50%">19</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <svg id="tile20" tileId="20" class="tileHidden" width="256" height="256" tileTier="4">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile20.png" />
        <text id="tileNumber" x="50%" y="50%">20</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>

    <!-- Tier 5 -->
    <svg id="tile21" tileId="21" class="tileHidden" width="256" height="256" tileTier="5">
      <g id="tileContent" transform="translate(-128,-152)">
        <image id="tilePicture" href="../data/images/tile21.png" />
        <text id="tileNumber" x="50%" y="50%">21</text>
        <polygon id="tileArea" points="128,62 240,128 240,190 128,255 16,190 16,128" />
      </g>
    </svg>
  </g>

  <defs>
    <filter x="0" y="0" width="1" height="1" id="solid">
      <feFlood flood-color="black" result="bg" />
      <feMerge>
        <feMergeNode in="bg"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Confirmation note -->
  <svg id="note" class="hidden" x="0" y="0" width="100%" height="100%">
    <rect x="-200" y="-200" width="500" height="120" />
    <polygon points="50,150 50,120, 100,120" transform="translate(-25,-200)" />
    <text transform="translate(0,-200)" filterx="url(#solid)" >
      <tspan x="-190" dy="1em">Schnobble Schnobble Schnobble</tspan>
      <tspan x="-190" dy="1em">Schnobble Schnobble Schnobble Schnobble</tspan>
      <tspan x="-190" dy="1em">Schnobble Schnobble</tspan>
    </text>
  </svg>

  <!-- Debug cursor -->
  <!-- <circle id="cursor" class="ignoreCursor" style="fill: rgb(255,0,0);" cx="1000" cy="1000" r="10px" /> -->
  <circle id="circle" class="ignoreCursor" style="fill: red;" cx="100000" cy="100000" r="15px" />
</svg>